[{"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/index.js":"1","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/reportWebVitals.js":"2","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/App.jsx":"3","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/lib/customHooks.js":"4","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/utils/constants.js":"5","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/pages/SignIn/SignIn.jsx":"6","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/pages/Home/Home.jsx":"7","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/pages/updateBook/UpdateBook.jsx":"8","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/pages/Book/Book.jsx":"9","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/pages/AddBook/AddBook.jsx":"10","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/ScrollToTop/ScrollToTop.jsx":"11","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Header/Header.jsx":"12","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Footer/Footer.jsx":"13","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/lib/common.js":"14","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/BackArrow/BackArrow.jsx":"15","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Books/BookItem/BookItem.jsx":"16","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Books/BookInfo/BookInfo.jsx":"17","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Books/BookForm/BookForm.jsx":"18","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Books/BestRatedBooks/BestRatedBooks.jsx":"19","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Books/BookRatingForm/BookRatingForm.jsx":"20","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/lib/functions.jsx":"21"},{"size":592,"mtime":1727262191746,"results":"22","hashOfConfig":"23"},{"size":375,"mtime":1727262191774,"results":"24","hashOfConfig":"23"},{"size":1337,"mtime":1727262191711,"results":"25","hashOfConfig":"23"},{"size":1336,"mtime":1727262191755,"results":"26","hashOfConfig":"23"},{"size":403,"mtime":1727262191780,"results":"27","hashOfConfig":"23"},{"size":4351,"mtime":1727262191763,"results":"28","hashOfConfig":"23"},{"size":1378,"mtime":1727262191763,"results":"29","hashOfConfig":"23"},{"size":1754,"mtime":1727262191764,"results":"30","hashOfConfig":"23"},{"size":3754,"mtime":1729949104255,"results":"31","hashOfConfig":"23"},{"size":1396,"mtime":1727262191762,"results":"32","hashOfConfig":"23"},{"size":246,"mtime":1727262191726,"results":"33","hashOfConfig":"23"},{"size":1324,"mtime":1727262191725,"results":"34","hashOfConfig":"23"},{"size":903,"mtime":1727262191724,"results":"35","hashOfConfig":"23"},{"size":4289,"mtime":1727262191755,"results":"36","hashOfConfig":"23"},{"size":410,"mtime":1727262191720,"results":"37","hashOfConfig":"23"},{"size":1472,"mtime":1727262191723,"results":"38","hashOfConfig":"23"},{"size":1082,"mtime":1727262191722,"results":"39","hashOfConfig":"23"},{"size":4165,"mtime":1727262191722,"results":"40","hashOfConfig":"23"},{"size":703,"mtime":1727262191721,"results":"41","hashOfConfig":"23"},{"size":2054,"mtime":1729940780342,"results":"42","hashOfConfig":"23"},{"size":1678,"mtime":1727262191755,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"815xyp",{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71"},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":1,"fixableWarningCount":0,"source":null},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/index.js",[],["108"],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/reportWebVitals.js",[],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/App.jsx",[],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/lib/customHooks.js",[],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/utils/constants.js",["109"],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/pages/SignIn/SignIn.jsx",["110","111","112","113","114"],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/pages/Home/Home.jsx",[],["115"],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/pages/updateBook/UpdateBook.jsx",[],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/pages/Book/Book.jsx",["116"],["117"],"/* eslint-disable react/jsx-props-no-spreading */\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useUser } from '../../lib/customHooks';\nimport styles from './Book.module.css';\nimport { getBook, deleteBook } from '../../lib/common';\nimport BookInfo from '../../components/Books/BookInfo/BookInfo';\nimport BookRatingForm from '../../components/Books/BookRatingForm/BookRatingForm';\nimport BookDeleteImage from '../../images/book_delete.png';\nimport BestRatedBooks from '../../components/Books/BestRatedBooks/BestRatedBooks';\nimport BackArrow from '../../components/BackArrow/BackArrow';\n\nfunction Book() {\n  const { connectedUser, userLoading } = useUser();\n  const [book, setBook] = useState(null);\n  const [rating, setRating] = useState(0);\n  const [userRated, setUserRated] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  const params = useParams();\n\n  useEffect(() => {\n    async function getItem() {\n      const data = await getBook(params.id);\n      if (data) {\n        setBook(data);\n      }\n    }\n    getItem();\n  }, [params.id]);\n\n  useEffect(() => {\n    if (!userLoading && connectedUser && book?.title) {\n      const rate = book.ratings.find((elt) => elt.userId === connectedUser.userId);\n      if (rate) {\n        setUserRated(true);\n        setRating(parseInt(rate.grade, 10));\n        setLoading(false);\n      } else {\n        setUserRated(false);\n        setRating(0);\n        setLoading(false);\n      }\n    } else if (!userLoading && !connectedUser && book) {\n      setLoading(false);\n    }\n  }, [book, userLoading]);\n\n  const onDelete = async (e) => {\n    if (e.key && e.key !== 'Enter') {\n      return;\n    }\n    // eslint-disable-next-line no-restricted-globals\n    const check = confirm('Etes vous sûr de vouloir supprimer ce livre ?');\n    if (check) {\n      const del = await deleteBook(book.id);\n      if (del) {\n        setBook((oldValue) => ({ ...oldValue, delete: true }));\n      }\n    }\n  };\n\n  const loadingContent = (<h1>Chargement ...</h1>);\n\n  const bookContent = !loading && !book.delete ? (\n    <div>\n      <div className={styles.Book}>\n        <div className={styles.BookImage} style={{ backgroundImage: `url(\"${book.imageUrl}\")` }} />\n        <div className={styles.BookContent}>\n          {book?.userId === connectedUser?.userId ? (\n            <div className={styles.Owner}>\n              <p>Vous avez publié cet ouvrage, vous pouvez le :</p>\n              <p>\n                <Link to={`/livre/modifier/${book.id}`}>modifier</Link>\n                {' '}\n                <span tabIndex={0} role=\"button\" onKeyUp={onDelete} onClick={onDelete}>supprimer</span>\n                {' '}\n              </p>\n            </div>\n          ) : null}\n          <BookInfo book={book} />\n          <BookRatingForm\n            userRated={userRated}\n            userId={connectedUser?.userId}\n            rating={rating}\n            setRating={setRating}\n            setBook={setBook}\n            id={book.id}\n          />\n        </div>\n      </div>\n      <hr />\n      <BestRatedBooks />\n    </div>\n  ) : null;\n  const deletedContent = book?.delete ? (\n    <div className={styles.Deleted}>\n      <h1>{book.title}</h1>\n      <p>a bien été supprimé</p>\n      <img src={BookDeleteImage} alt={`Le livre ${book.title} a bien été supprimé`} />\n      <Link to=\"/\">\n        <button type=\"button\">{'Retour à l\\'accueil'}</button>\n      </Link>\n    </div>\n  ) : null;\n\n  return (\n    <div className=\"content-container\">\n      <BackArrow />\n      {loading ? loadingContent : null}\n      <div className={styles.BookContainer}>\n        {bookContent}\n      </div>\n      {book?.delete ? deletedContent : null}\n\n    </div>\n  );\n}\nexport default Book;\n","/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/pages/AddBook/AddBook.jsx",[],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/ScrollToTop/ScrollToTop.jsx",[],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Header/Header.jsx",[],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Footer/Footer.jsx",[],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/lib/common.js",["118","119","120","121","122","123","124","125","126"],["127","128","129"],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/BackArrow/BackArrow.jsx",[],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Books/BookItem/BookItem.jsx",[],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Books/BookInfo/BookInfo.jsx",[],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Books/BookForm/BookForm.jsx",["130","131","132"],["133","134","135","136","137","138","139"],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Books/BestRatedBooks/BestRatedBooks.jsx",[],[],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/components/Books/BookRatingForm/BookRatingForm.jsx",["140","141","142"],["143"],"/Users/elmardiad/Desktop/Openclassrooms/P6/mon_vieux_grimoire/frontend/src/lib/functions.jsx",[],["144","145"],{"ruleId":"146","severity":2,"message":"147","line":13,"column":3,"nodeType":"148","messageId":"149","endLine":15,"endColumn":22,"suppressions":"150"},{"ruleId":"151","severity":2,"message":"152","line":9,"column":1,"nodeType":"153","messageId":"154","endLine":10,"endColumn":1,"fix":"155"},{"ruleId":"156","severity":1,"message":"157","line":35,"column":9,"nodeType":"158","messageId":"159","endLine":35,"endColumn":20},{"ruleId":"156","severity":1,"message":"157","line":42,"column":7,"nodeType":"158","messageId":"159","endLine":42,"endColumn":18},{"ruleId":"156","severity":1,"message":"157","line":44,"column":7,"nodeType":"158","messageId":"159","endLine":44,"endColumn":18},{"ruleId":"156","severity":1,"message":"157","line":62,"column":9,"nodeType":"158","messageId":"159","endLine":62,"endColumn":20},{"ruleId":"156","severity":1,"message":"157","line":68,"column":7,"nodeType":"158","messageId":"159","endLine":68,"endColumn":18},{"ruleId":"160","severity":2,"message":"161","line":12,"column":1,"nodeType":"153","messageId":"162","endLine":12,"endColumn":125,"suppressions":"163"},{"ruleId":"164","severity":1,"message":"165","line":55,"column":19,"nodeType":"166","messageId":"159","endLine":55,"endColumn":75},{"ruleId":"167","severity":2,"message":"168","line":55,"column":19,"nodeType":"169","messageId":"170","endLine":55,"endColumn":26,"suppressions":"171"},{"ruleId":"156","severity":1,"message":"157","line":32,"column":5,"nodeType":"158","messageId":"159","endLine":32,"endColumn":18},{"ruleId":"156","severity":1,"message":"157","line":47,"column":5,"nodeType":"158","messageId":"159","endLine":47,"endColumn":18},{"ruleId":"156","severity":1,"message":"157","line":63,"column":5,"nodeType":"158","messageId":"159","endLine":63,"endColumn":18},{"ruleId":"156","severity":1,"message":"157","line":76,"column":5,"nodeType":"158","messageId":"159","endLine":76,"endColumn":18},{"ruleId":"156","severity":1,"message":"157","line":89,"column":5,"nodeType":"158","messageId":"159","endLine":89,"endColumn":18},{"ruleId":"156","severity":1,"message":"157","line":111,"column":5,"nodeType":"158","messageId":"159","endLine":111,"endColumn":18},{"ruleId":"156","severity":1,"message":"157","line":144,"column":5,"nodeType":"158","messageId":"159","endLine":144,"endColumn":18},{"ruleId":"156","severity":1,"message":"157","line":160,"column":3,"nodeType":"158","messageId":"159","endLine":160,"endColumn":14},{"ruleId":"156","severity":1,"message":"157","line":180,"column":5,"nodeType":"158","messageId":"159","endLine":180,"endColumn":18},{"ruleId":"172","severity":2,"message":"173","line":8,"column":18,"nodeType":"158","messageId":"174","endLine":8,"endColumn":29,"suppressions":"175"},{"ruleId":"172","severity":2,"message":"173","line":60,"column":15,"nodeType":"158","messageId":"174","endLine":60,"endColumn":23,"suppressions":"176"},{"ruleId":"172","severity":2,"message":"173","line":108,"column":15,"nodeType":"158","messageId":"174","endLine":108,"endColumn":23,"suppressions":"177"},{"ruleId":"164","severity":1,"message":"178","line":50,"column":9,"nodeType":"166","messageId":"159","endLine":50,"endColumn":46},{"ruleId":"164","severity":1,"message":"178","line":61,"column":9,"nodeType":"166","messageId":"159","endLine":61,"endColumn":31},{"ruleId":"164","severity":1,"message":"178","line":68,"column":9,"nodeType":"166","messageId":"159","endLine":68,"endColumn":35},{"ruleId":"179","severity":2,"message":"180","line":54,"column":9,"nodeType":"169","messageId":"181","endLine":54,"endColumn":13,"suppressions":"182"},{"ruleId":"183","severity":2,"message":"184","line":76,"column":36,"nodeType":"185","messageId":"186","endLine":76,"endColumn":55,"suppressions":"187"},{"ruleId":"183","severity":2,"message":"184","line":79,"column":39,"nodeType":"185","messageId":"186","endLine":79,"endColumn":61,"suppressions":"188"},{"ruleId":"183","severity":2,"message":"184","line":83,"column":40,"nodeType":"185","messageId":"186","endLine":83,"endColumn":63,"suppressions":"189"},{"ruleId":"183","severity":2,"message":"184","line":87,"column":38,"nodeType":"185","messageId":"186","endLine":87,"endColumn":59,"suppressions":"190"},{"ruleId":"183","severity":2,"message":"184","line":91,"column":39,"nodeType":"185","messageId":"186","endLine":91,"endColumn":61,"suppressions":"191"},{"ruleId":"183","severity":2,"message":"184","line":115,"column":16,"nodeType":"185","messageId":"186","endLine":115,"endColumn":37,"suppressions":"192"},{"ruleId":"156","severity":1,"message":"157","line":34,"column":5,"nodeType":"158","messageId":"159","endLine":34,"endColumn":16},{"ruleId":"164","severity":1,"message":"178","line":39,"column":7,"nodeType":"166","messageId":"159","endLine":39,"endColumn":20},{"ruleId":"193","severity":2,"message":"194","line":64,"column":31,"nodeType":"153","messageId":"195","fix":"196"},{"ruleId":"172","severity":2,"message":"173","line":37,"column":32,"nodeType":"158","messageId":"174","endLine":37,"endColumn":42,"suppressions":"197"},{"ruleId":"183","severity":2,"message":"184","line":26,"column":59,"nodeType":"185","messageId":"186","endLine":26,"endColumn":82,"suppressions":"198"},{"ruleId":"183","severity":2,"message":"184","line":33,"column":59,"nodeType":"185","messageId":"186","endLine":33,"endColumn":82,"suppressions":"199"},"react/jsx-filename-extension","JSX not allowed in files with extension '.js'","JSXElement","noJSXWithExtension",["200"],"no-multiple-empty-lines","More than 1 blank line not allowed.","Program","consecutiveBlank",{"range":"201","text":"202"},"no-console","Unexpected console statement.","MemberExpression","unexpected","max-len","This line has a length of 124. Maximum allowed is 100.","max",["203"],"no-alert","Unexpected confirm.","CallExpression","no-restricted-globals","Unexpected use of 'confirm'.","Identifier","defaultMessage",["204"],"no-underscore-dangle","Unexpected dangling '_' in '_id'.","unexpectedUnderscore",["205"],["206"],["207"],"Unexpected alert.","no-param-reassign","Assignment to property of function parameter 'data'.","assignmentToFunctionParamProp",["208"],"react/jsx-props-no-spreading","Prop spreading is forbidden","JSXSpreadAttribute","noSpreading",["209"],["210"],["211"],["212"],["213"],["214"],"eol-last","Newline required at end of file but not found.","missing",{"range":"215","text":"216"},["217"],["218"],["219"],{"kind":"220","justification":"202"},[235,236],"",{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},[2054,2054],"\n",{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},{"kind":"220","justification":"202"},"directive"]